(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{557:function(e,a,t){},793:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(438),s=t(439),i=t(11),o=t(12),c=t(15),m=t(13),u=t(14),d=t(429),p=t(16),h=t(17),g=t(52),f=t(796),E=t(790),y=t(20),b=t(4),v=t(44),w=[{title:"Name",dataIndex:"name",key:"name",width:200,render:function(e){return r.a.createElement("span",{className:"gx-link"},e)}},{title:"Tin Number",dataIndex:"tin",key:"tin",width:250},{title:"Address",dataIndex:"address",key:"address"},{title:"Action",key:"action",width:200,render:function(e,a){return r.a.createElement("span",null,r.a.createElement("span",{className:"gx-link ant-dropdown-link"},"Actions ",r.a.createElement(h.a,{type:"down"})))}}],O=!0,k={y:440},j={position:"bottom"},C=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={pagination:j,size:"middle",showHeader:O,rowSelection:{},scroll:k},t.componentDidMount=function(){t.props.getOrders()},t.handleSizeChange=function(e){t.setState({size:e.target.value})},t.handleShowForm=function(e){t.setState({visible:!0})},t.handleOk=function(){t.setState({confirmLoading:!0}),setTimeout(function(){t.setState({visible:!1,confirmLoading:!1})},2e3)},t.handleCancel=function(){console.log("Clicked cancel button"),t.setState({visible:!1})},t.CreateNew=r.a.createElement(d.a,{to:"/orders/new"},r.a.createElement(g.a,{type:"primary",size:"default",icon:"add",onClick:t.handleShowForm},r.a.createElement(y.a,{id:"sidebar.orders.new"}))),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props,a=e.loading,t=e.allOrders;return r.a.createElement("div",null,r.a.createElement(f.a,{className:"gx-card",title:"Orders",extra:this.CreateNew},r.a.createElement(E.a,Object.assign({className:"gx-table-responsive"},this.state,{loading:a,rowKey:"id",columns:w,dataSource:t}))))}}]),a}(n.Component),x=Object(p.b)(function(e){var a=e.auth,t=e.orderData,n=e.commonData,r=a.token,l=t.listSuccess,s=t.allOrders;return{token:r,listSuccess:l,loading:n.loading,allOrders:s}},{getOrders:function(){return function(e){e({type:b.l}),v.a.get("orders").then(function(a){var t=a.data;t.data?(e({type:b.n}),e({type:b.r}),e({type:b.c,payload:t.data})):(console.log("payload: data.error",t.error),e({type:b.k,payload:"Network Error"}))}).catch(function(a){e({type:b.k,payload:a.message}),console.log("Error****:",a.message)})}}})(C),S=(t(557),t(437)),N=t(434),q=t(426),P=t(788),D=t(780),z=t(103),F=t(582),T=t(583),B=N.a.Item,A=q.a.TextArea,_=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={confirmDirty:!1,autoCompleteResult:[]},t.add=function(){var e=t.props.form,a=e.getFieldValue("items").concat({description:"",size:"",quantity:"",category:""});e.setFieldsValue({items:a})},t.remove=function(e){var a=t.props.form,n=a.getFieldValue("items");1!==n.length&&a.setFieldsValue({items:n.filter(function(a){return a!==e})})},t.handleSubmit=function(e){e.preventDefault(),t.props.form.validateFieldsAndScroll(function(e,a){e||t.props.addOrder(a)})},t.handleConfirmBlur=function(e){var a=e.target.value;t.setState({confirmDirty:t.state.confirmDirty||!!a})},t.openNotification=function(e){P.a[e]({message:"Order Created",description:"Order and User account created successfully."})},t.goBack=function(){t.props.history.goBack()},t.GoBack=r.a.createElement(g.a,{type:"primary",size:"default",icon:"add",onClick:t.goBack},r.a.createElement(y.a,{id:"sidebar.cancel"})),t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this,a=this.props.form,t=a.getFieldDecorator,n=a.getFieldValue;t("items",{initialValue:[{description:"",size:"",quantity:"",category:""}]});var l=n("items"),s=this.props,i=s.createSuccess,o=s.loading;if(i)return this.openNotification("success"),this.props.addOrderForm(),r.a.createElement(S.a,{to:"/orders"});var c={labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:17}}},m={labelCol:{xs:{span:0},sm:{span:0}},wrapperCol:{xs:{span:24},sm:{span:24}}};return r.a.createElement(D.a,{spinning:o},r.a.createElement(f.a,{className:"gx-card",title:"New Order",extra:this.GoBack},r.a.createElement(N.a,{layout:"horizontal",onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement(B,Object.assign({},c,{label:r.a.createElement("span",null,"Reference No.\xa0",r.a.createElement(z.a,{title:"Use organization reference number. Must be unique?"},r.a.createElement(h.a,{type:"question-circle-o"})))}),t("client_ref",{rules:[{required:!0,message:"Please input a reference number!",whitespace:!0}]})(r.a.createElement(q.a,null))),r.a.createElement(B,Object.assign({},c,{label:r.a.createElement("span",null,"Description\xa0",r.a.createElement(z.a,{title:"What is the name of the primary user?"},r.a.createElement(h.a,{type:"question-circle-o"})))}),t("order_desc",{rules:[{required:!0,message:"You must enter a User!",whitespace:!0}]})(r.a.createElement(A,{rows:4,columns:2}))),r.a.createElement("legend",null,r.a.createElement("h3",null,"Items")),l.map(function(a,n){return r.a.createElement("div",{className:"pdynamic",key:n},r.a.createElement(F.a,{className:"border"},r.a.createElement(T.a,{lg:12,md:12,sm:24,xs:24},r.a.createElement(B,Object.assign({},m,{required:!1}),t("".concat(a,".category"),{rules:[{required:!0,whitespace:!0,message:"Please input passenger's name or delete this field."}]})(r.a.createElement(q.a,{placeholder:"Category"})))),r.a.createElement(T.a,{lg:12,md:12,sm:24,xs:24},r.a.createElement(B,Object.assign({},m,{required:!1}),t("".concat(a,".size"),{rules:[{required:!0,whitespace:!0,message:"Please input passenger's name or delete this field."}]})(r.a.createElement(q.a,{placeholder:"Size"})))),r.a.createElement(T.a,{lg:12,md:12,sm:24,xs:24},r.a.createElement(B,Object.assign({},m,{required:!1}),t("".concat(a,".quantity"),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input passenger's name or delete this field."}]})(r.a.createElement(q.a,{placeholder:"Quantity"})))),r.a.createElement(T.a,{lg:12,md:12,sm:24,xs:24},r.a.createElement(B,Object.assign({},m,{required:!1}),t("".concat(a,".description"),{validateTrigger:["onChange","onBlur"],rules:[{required:!0,whitespace:!0,message:"Please input passenger's name or delete this field."}]})(r.a.createElement(q.a,{placeholder:"Description"})))),r.a.createElement(T.a,{lg:24,md:24,sm:24,xs:24},l.length>1?r.a.createElement(B,c,r.a.createElement(g.a,{type:"dashed",onClick:e.add,style:{width:"40%"}},r.a.createElement(h.a,{type:"minus-circle-o"})," Remove Item")):null)))})),r.a.createElement("br",null),r.a.createElement(B,c,r.a.createElement(g.a,{type:"dashed",onClick:this.add,style:{width:"40%"}},r.a.createElement(h.a,{type:"plus"})," Add Item")),r.a.createElement(B,{wrapperCol:{xs:{span:24,offset:20},sm:{span:24,offset:20}}},r.a.createElement(g.a,{type:"primary",htmlType:"submit"},"Submit")))))}}]),a}(n.Component),I=N.a.create()(_),R=Object(p.b)(function(e){var a=e.auth,t=e.orderData,n=e.commonData;return{token:a.token,createSuccess:t.createSuccess,loading:n.loading}},{addOrder:function(e){var a=e.order_name,t=e.admin_name,n=e.admin_email,r=e.admin_phone;return function(e){e({type:b.l}),v.a.post("admin/orders",{order_name:a,admin_name:t,admin_email:n,admin_phone:r}).then(function(a){var t=a.data;t?(e({type:b.n}),e({type:b.g,payload:!0})):(console.log("payload: data.error",t.error),e({type:b.k,payload:"Network Error"}))}).catch(function(a){e({type:b.k,payload:a.message}),console.log("Error****:",a.message)})}},addOrderForm:function(){return function(e){e({type:b.g,payload:!1})}}})(I),V=t(425),W=t(801),H=t(795),G=t(496),J=N.a.Item,L=V.a.Option,M=W.a.Option,U=[{value:"zhejiang",label:"Zhejiang",children:[{value:"hangzhou",label:"Hangzhou",children:[{value:"xihu",label:"West Lake"}]}]},{value:"jiangsu",label:"Jiangsu",children:[{value:"nanjing",label:"Nanjing",children:[{value:"zhonghuamen",label:"Zhong Hua Men"}]}]}],Z=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(c.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(r)))).state={confirmDirty:!1,autoCompleteResult:[]},t.handleSubmit=function(e){e.preventDefault(),t.props.form.validateFieldsAndScroll(function(e,a){e||console.log("Received values of form: ",a)})},t.handleConfirmBlur=function(e){var a=e.target.value;t.setState({confirmDirty:t.state.confirmDirty||!!a})},t.compareToFirstPassword=function(e,a,n){var r=t.props.form;a&&a!==r.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},t.validateToNextPassword=function(e,a,n){var r=t.props.form;a&&t.state.confirmDirty&&r.validateFields(["confirm"],{force:!0}),n()},t.handleWebsiteChange=function(e){var a;a=e?[".com",".org",".net"].map(function(a){return"".concat(e).concat(a)}):[],t.setState({autoCompleteResult:a})},t}return Object(u.a)(a,e),Object(o.a)(a,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,a=this.state.autoCompleteResult,t={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},n={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},l=e("prefix",{initialValue:"86"})(r.a.createElement(V.a,{style:{width:70}},r.a.createElement(L,{value:"86"},"+86"),r.a.createElement(L,{value:"87"},"+87"))),s=a.map(function(e){return r.a.createElement(M,{key:e},e)});return r.a.createElement(f.a,{className:"gx-card",title:"Create New Order"},r.a.createElement(N.a,{onSubmit:this.handleSubmit},r.a.createElement(J,Object.assign({},t,{label:"E-mail"}),e("email",{rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]})(r.a.createElement(q.a,{id:"email1"}))),r.a.createElement(J,Object.assign({},t,{label:"Password"}),e("password",{rules:[{required:!0,message:"Please input your password!"},{validator:this.validateToNextPassword}]})(r.a.createElement(q.a,{type:"password"}))),r.a.createElement(J,Object.assign({},t,{label:"Confirm Password"}),e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(r.a.createElement(q.a,{type:"password",onBlur:this.handleConfirmBlur}))),r.a.createElement(J,Object.assign({},t,{label:r.a.createElement("span",null,"Nickname\xa0",r.a.createElement(z.a,{title:"What do you want others to call you?"},r.a.createElement(h.a,{type:"question-circle-o"})))}),e("nickname",{rules:[{required:!0,message:"Please input your nickname!",whitespace:!0}]})(r.a.createElement(q.a,null))),r.a.createElement(J,Object.assign({},t,{label:"Habitual Residence"}),e("residence",{initialValue:["zhejiang","hangzhou","xihu"],rules:[{type:"array",required:!0,message:"Please select your habitual residence!"}]})(r.a.createElement(H.a,{options:U}))),r.a.createElement(J,Object.assign({},t,{label:"Phone Number"}),e("phone",{rules:[{required:!0,message:"Please input your phone number!"}]})(r.a.createElement(q.a,{addonBefore:l,style:{width:"100%"}}))),r.a.createElement(J,Object.assign({},t,{label:"Website"}),e("website",{rules:[{required:!0,message:"Please input website!"}]})(r.a.createElement(W.a,{dataSource:s,onChange:this.handleWebsiteChange,placeholder:"website"},r.a.createElement(q.a,null)))),r.a.createElement(J,Object.assign({},t,{label:"Captcha",extra:"We must make sure that your are a human."}),r.a.createElement(F.a,null,r.a.createElement(T.a,{span:24,sm:12},e("captcha",{rules:[{required:!0,message:"Please input the captcha you got!"}]})(r.a.createElement(q.a,null))),r.a.createElement(T.a,{span:24,sm:12},r.a.createElement(g.a,null,"Get captcha")))),r.a.createElement(J,n,e("agreement",{valuePropName:"checked"})(r.a.createElement(G.a,null,"I have read the ",r.a.createElement("span",{className:"gx-link"},"agreement")))),r.a.createElement(J,n,r.a.createElement(g.a,{type:"primary",htmlType:"submit"},"Register"))))}}]),a}(n.Component);a.default=function(e){var a=e.match;return r.a.createElement(l.a,null,r.a.createElement(s.a,{exact:!0,path:"".concat(a.url,"/"),component:x}),r.a.createElement(s.a,{path:"".concat(a.url,"/new"),component:R}),r.a.createElement(s.a,{path:"".concat(a.url,"/single"),component:Z}))}}}]);
//# sourceMappingURL=6.35959d0e.chunk.js.map